<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // 发送 AJAX 请求，返回的结果是 Promise 对象
    function sendAJAX(url) {
        return new Promise((resolve, reject) => {
            // 1. 创建对象
            const x = new XMLHttpRequest();

            // 2. 初始化
            x.open('GET', url)

            // 3. 发送
            x.send()

            // 4. 事件绑定
            x.onreadystatechange = function () {
                if (x.readyState === 4) {
                    if (x.status >= 200 && x.status < 300) {
                        resolve(x.response)
                    } else {
                        reject(x.status)
                    }
                }
            }
        })
    }

    // promise then 方法测试
    // sendAJAX("https://api.apiopen.top/swagger/doc.json").then(value => {
    //     console.log(value)
    // }, reason => {
    // })

    // async 与 await 测试 axios
    async function main() {
        let result = await sendAJAX('https://api.apiopen.top/swagger/doc.json')
        console.log(result)
    }

    main()
</script>
</body>
</html>